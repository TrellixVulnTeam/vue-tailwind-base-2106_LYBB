{"remainingRequest":"/home/winter/htdocs/laravel/vue-passport-santrikoding/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/winter/htdocs/laravel/vue-passport-santrikoding/src/views/dashboard/Index.vue?vue&type=template&id=f042b266","dependencies":[{"path":"/home/winter/htdocs/laravel/vue-passport-santrikoding/src/views/dashboard/Index.vue","mtime":1623505736895},{"path":"/home/winter/htdocs/laravel/vue-passport-santrikoding/node_modules/cache-loader/dist/cjs.js","mtime":1623053984506},{"path":"/home/winter/htdocs/laravel/vue-passport-santrikoding/node_modules/babel-loader/lib/index.js","mtime":1622940669054},{"path":"/home/winter/htdocs/laravel/vue-passport-santrikoding/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1623054012497},{"path":"/home/winter/htdocs/laravel/vue-passport-santrikoding/node_modules/cache-loader/dist/cjs.js","mtime":1623053984506},{"path":"/home/winter/htdocs/laravel/vue-passport-santrikoding/node_modules/vue-loader-v16/dist/index.js","mtime":1623054012497}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdj4KCiAgICAgIDxidXR0b24gaHJlZj0iIiAgQGNsaWNrLnByZXZlbnQ9ImxvZ291dCIgY2xhc3M9ImJnLWVtZXJhbGQtNTAwIHB5LTMgcHggYmxvY2sgbXQtNCBsZzppbmxpbmUtYmxvY2sgbGc6bXQtMCB0ZXh0LXRlYWwtbGlnaHRlciBob3Zlcjp0ZXh0LXdoaXRlIj4KICAgICAgICBMT0dPVVQKICAgICAgPC9idXR0b24+CgogICAgICAgU2VsYW1hdCBEYXRhbmcgPHN0cm9uZz57eyB1c2VyLm5hbWUgfX08L3N0cm9uZz4KICA8L2Rpdj4K"},{"version":3,"sources":["/home/winter/htdocs/laravel/vue-passport-santrikoding/src/views/dashboard/Index.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC;;MAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3I,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;OAEP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACnD,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/winter/htdocs/laravel/vue-passport-santrikoding/src/views/dashboard/Index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n\n      <button href=\"\"  @click.prevent=\"logout\" class=\"bg-emerald-500 py-3 px block mt-4 lg:inline-block lg:mt-0 text-teal-lighter hover:text-white\">\n        LOGOUT\n      </button>\n\n       Selamat Datang <strong>{{ user.name }}</strong>\n  </div>\n</template>\n\n<script>\nimport { onMounted, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\n\n    export default {\n\n        setup() {\n\n            //state token\n            const token = localStorage.getItem('token')\n\n            //inisialisasi vue router on Composition API\n            const router = useRouter()\n\n            //state user\n            const user = ref('')\n            \n            //mounted properti\n            onMounted(() =>{\n\n                //check Token exist\n                if(!token) {\n                    return router.push({\n                        name: 'login'\n                    })\n                }\n                \n                //get data user\n                axios.defaults.headers.common.Authorization = `Bearer ${token}`\n                axios.get('http://localhost:8000/api/user')\n                .then(response => {\n\n                    //console.log(response.data.name)\n                    user.value = response.data\n\n                })\n                .catch(error => {\n                    console.log(error.response.data)\n                })\n\n            })\n\n            //method logout\n            function logout() {\n\n                //logout\n                axios.defaults.headers.common.Authorization = `Bearer ${token}`\n                axios.post('http://localhost:8000/api/logout')\n                .then(response => {\n\n                    if(response.data.success) {\n\n                        //remove localStorage\n                        localStorage.removeItem('token')\n\n                        //redirect ke halaman login\n                        return router.push({\n                            name: 'login'\n                        })\n\n                    }\n\n                })\n                .catch(error => {\n                    console.log(error.response.data)\n                })\n\n            }\n\n            return {\n                token,      // <-- state token\n                user,       // <-- state user\n                logout      // <-- method logout\n            }\n\n        }\n\n    }\n</script>"]}]}